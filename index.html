<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>謝慧雲 | Huiyun Xie - 数字艺术与书法作品集</title>
    
    <script src="data.js"></script> 
    
    <style>
        /* --- 1. 基础设定 --- */
        :root { 
            --bg: #ffffff; 
            --text-main: #191919; 
            --text-gray: #555555; 
            --text-light: #999999; 
        }

        body { 
            margin: 0; background: var(--bg); color: var(--text-main); 
            font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif; 
            -webkit-font-smoothing: antialiased; overflow-x: hidden; scroll-behavior: smooth;
        }
        a { text-decoration: none; color: inherit; transition: 0.2s; }

        /* --- 2. 导航栏 --- */
        nav { 
            position: fixed; top: 0; left: 0; width: 100%; height: 80px;
            background: rgba(255,255,255,0.98); border-bottom: 1px solid #f6f6f6; 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 50px; box-sizing: border-box; z-index: 50; 
        }
        .brand { font-weight: 700; font-size: 18px; letter-spacing: -0.5px; }
        .nav-links { display: flex; gap: 32px; font-size: 14px; font-weight: 500; color: #333; }
        .nav-links a:hover { color: #999; }

        /* --- 3. 个人宣言 --- */
        .intro-section { max-width: 1400px; margin: 160px auto 80px; padding: 0 50px; }
        .intro-title { font-size: clamp(32px, 3.5vw, 56px); font-weight: 700; line-height: 1.2; margin-bottom: 24px; letter-spacing: -1px; max-width: 900px; }
        .intro-desc { font-size: 18px; color: var(--text-light); max-width: 720px; line-height: 1.6; }

        /* --- 4. 网格系统 --- */
        .grid { 
            max-width: 1440px; margin: 0 auto 120px; padding: 0 50px; 
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 60px 50px; 
        }
        .card { cursor: pointer; }
        .cover-box { 
            width: 100%; aspect-ratio: 4/3; background: #f8f8f8; 
            border-radius: 4px; overflow: hidden; margin-bottom: 16px; 
        }
        .cover-box img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
        .card:hover .cover-box img { transform: scale(1.04); }
        .title { font-weight: 600; font-size: 17px; margin-bottom: 6px; color: #333; }
        .cat { font-size: 13px; color: #aaa; text-transform: uppercase; letter-spacing: 0.5px;}

        /* --- 5. 详情页布局 --- */
        #detail { 
            position: fixed; inset: 0; background: #fff; z-index: 100; 
            transform: translateY(100%); transition: 0.6s cubic-bezier(0.16, 1, 0.3, 1); 
            overflow-y: auto; 
        }
        #detail.active { transform: translateY(0); }

        .d-head { 
            position: sticky; top: 0; background: rgba(255,255,255,0.98); 
            padding: 24px 50px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid #f6f6f6; z-index: 10;
        }

        .d-content { max-width: 1100px; margin: 60px auto 120px; padding: 0 30px; }
        .d-header-block { text-align: center; margin-bottom: 60px; }
        .d-big-title { font-size: 32px; font-weight: 700; margin-bottom: 10px; }
        .d-meta { font-size: 13px; color: #999; text-transform: uppercase; letter-spacing: 1px; }

        /* === 核心修改：媒体资源样式 === */
        
        /* 1. 图片通用样式：宽度撑满，高度自动 */
        img.d-media {
            width: 100%;
            height: auto;
            border-radius: 4px;
            margin-bottom: 40px;
            display: block;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
        }

        /* 2. 视频专用样式：智能自适应 */
        video.d-media {
            width: auto;            /* 关键：允许宽度收缩 */
            height: auto;           /* 关键：允许高度收缩 */
            max-width: 100%;        /* 限制：最宽不能超过屏幕/容器 */
            max-height: 85vh;       /* 限制：最高不能超过屏幕高度的85%（防止竖屏视频过大） */
            
            display: block;
            margin: 0 auto 40px;    /* 居中显示 */
            
            border-radius: 4px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            background: #000;       /* 视频加载前的背景色 */
        }

        .d-text-block { max-width: 680px; margin: 0 auto 60px; font-size: 15px; line-height: 1.8; color: var(--text-gray); white-space: pre-wrap; }
        .close-btn { width: 44px; height: 44px; border-radius: 50%; border: 1px solid #eee; background: #fff; cursor: pointer; font-size: 20px; color: #666; }
        .close-btn:hover { border-color: #000; color: #000; }

        /* 移动端适配 */
        @media (max-width: 1024px) { .grid { grid-template-columns: repeat(2, 1fr); gap: 40px; } }
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; padding: 0 24px; }
            .intro-section { padding: 0 24px; margin-top: 120px; }
            nav { padding: 0 24px; } .nav-links { display: none; }
            .d-head { padding: 20px 24px; } .d-content { padding: 0 20px; }
            
            /* 手机上允许视频稍微高一点，但依然限制不溢出屏幕 */
            video.d-media { max-height: 80vh; width: 100%; object-fit: cover; } 
        }
    </style>
</head>
<body>
    <nav>
        <div class="brand">HUIYUN XIE</div>
        <div class="nav-links">
            <a href="#grid">Works</a>
            <a href="#intro">Profile</a>
        </div>
    </nav>

    <section class="intro-section" id="intro">
        <h1 class="intro-title">
            Exploring the boundaries between <br>
            <span style="color: var(--text-light);">Traditional Calligraphy</span> & Generative AI.
        </h1>
        <p class="intro-desc">我是謝慧雲，一名數位藝術創作者，專注於結合書法與 AI 演算法，創造兼具傳統意蘊與未來感的品牌視覺與產品體驗。</p>
    </section>

    <div class="grid" id="grid"></div>

    <div id="detail">
        <div class="d-head">
            <span style="font-size:12px; color:#999; letter-spacing:1px;">PROJECT DETAIL</span>
            <button class="close-btn" onclick="closeDetail()">✕</button>
        </div>
        <div class="d-content" id="d-content"></div>
    </div>

    <script>
        let works = (typeof window.projectData !== 'undefined') ? window.projectData : [];

        const grid = document.getElementById('grid');
        works.forEach((item) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.onclick = () => openDetail(item);
            card.innerHTML = `
                <div class="cover-box"><img src="${item.cover}" loading="lazy"></div>
                <div class="title">${item.title}</div>
                <div class="cat">${item.category}</div>
            `;
            grid.appendChild(card);
        });

        const detailView = document.getElementById('detail');
        const content = document.getElementById('d-content');

        function openDetail(item) {
            let html = `
                <div class="d-header-block">
                    <div class="d-big-title">${item.title}</div>
                    <div class="d-meta">${item.category}</div>
                </div>
            `;

            // 视频渲染逻辑
            if(item.video) {
                html += `
                    <video class="d-media" controls autoplay muted loop playsinline>
                        <source src="${item.video}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                `;
            }

            if(item.desc) html += `<div class="d-text-block">${item.desc}</div>`;

            // 图片渲染（首图+多图）
            if(item.cover) html += `<img class="d-media" src="${item.cover}" loading="lazy">`;
            if(item.images && item.images.length > 0) {
                item.images.forEach(img => {
                    if(img !== item.cover) html += `<img class="d-media" src="${img}" loading="lazy">`;
                });
            }

            content.innerHTML = html;
            detailView.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDetail() {
            detailView.classList.remove('active');
            document.body.style.overflow = 'auto';
            setTimeout(() => { content.innerHTML = ''; }, 600);
        }
    </script>
</body>
</html>